<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Triumph Lab — Internal Decision Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=DM+Sans:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #F8F5F0;
    --surface: #FFFFFF;
    --border: #E5E0D8;
    --border-light: #F0ECE4;
    --navy: #1A2744;
    --navy-light: #243358;
    --navy-deep: #0F1E38;
    --bronze: #C4955A;
    --bronze-dark: #8C7444;
    --bronze-glow: rgba(196,149,90,0.12);
    --text: #1A2744;
    --text-secondary: #8B7E6E;
    --text-muted: #B0A899;
    --cream: #E8DCC8;
    --sidebar-w: 260px;
    --sidebar-collapsed: 0px;
    --green: #2E7D42;
    --blue: #3B6FA0;
    --radius: 12px;
    --radius-sm: 8px;
    --shadow-card: 0 1px 3px rgba(26,39,68,0.04), 0 4px 12px rgba(26,39,68,0.03);
    --shadow-hover: 0 4px 16px rgba(26,39,68,0.08), 0 1px 4px rgba(26,39,68,0.04);
    --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Sans', -apple-system, sans-serif;
    line-height: 1.6;
    overflow: hidden;
    height: 100vh;
  }

  /* ── SIDEBAR ── */
  .sidebar {
    position: fixed;
    left: 0; top: 0; bottom: 0;
    width: var(--sidebar-w);
    background: var(--navy);
    z-index: 100;
    display: flex;
    flex-direction: column;
    transition: transform var(--transition);
    overflow: hidden;
  }
  .sidebar.collapsed { transform: translateX(-100%); }

  .sidebar-brand {
    padding: 28px 24px 24px;
    border-bottom: 1px solid rgba(196,149,90,0.1);
    display: flex;
    align-items: center;
    gap: 14px;
    flex-shrink: 0;
  }
  .sidebar-brand-text {
    display: flex;
    flex-direction: column;
  }
  .sidebar-brand-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 500;
    color: var(--cream);
    letter-spacing: 0.5px;
    line-height: 1.2;
  }
  .sidebar-brand-sub {
    font-family: 'Outfit', sans-serif;
    font-size: 9px;
    letter-spacing: 2.5px;
    text-transform: uppercase;
    color: var(--bronze);
    margin-top: 3px;
  }

  .sidebar-nav {
    flex: 1;
    padding: 16px 0;
    overflow-y: auto;
  }
  .sidebar-section-label {
    font-family: 'Outfit', sans-serif;
    font-size: 9px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: rgba(232,220,200,0.25);
    padding: 16px 24px 8px;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 11px 24px;
    cursor: pointer;
    transition: all var(--transition);
    border-left: 3px solid transparent;
    font-size: 13.5px;
    color: rgba(232,220,200,0.55);
    font-weight: 400;
    position: relative;
    user-select: none;
  }
  .nav-item:hover {
    color: rgba(232,220,200,0.85);
    background: rgba(196,149,90,0.04);
  }
  .nav-item.active {
    color: var(--cream);
    border-left-color: var(--bronze);
    background: rgba(196,149,90,0.08);
    font-weight: 500;
  }
  .nav-item.active .nav-icon { color: var(--bronze); }
  .nav-icon {
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 15px;
    flex-shrink: 0;
    color: rgba(232,220,200,0.35);
    transition: color var(--transition);
  }
  .nav-item:hover .nav-icon { color: rgba(232,220,200,0.65); }
  .nav-item .item-count {
    margin-left: auto;
    background: rgba(196,149,90,0.15);
    color: var(--bronze);
    font-size: 10px;
    font-weight: 600;
    padding: 2px 7px;
    border-radius: 10px;
    font-family: 'Outfit', sans-serif;
  }

  .sidebar-footer {
    padding: 18px 24px;
    border-top: 1px solid rgba(196,149,90,0.08);
    flex-shrink: 0;
  }
  .sidebar-footer-text {
    font-size: 10px;
    color: rgba(232,220,200,0.2);
    font-family: 'Outfit', sans-serif;
    letter-spacing: 0.5px;
  }

  /* ── MAIN ── */
  .main {
    margin-left: var(--sidebar-w);
    height: 100vh;
    display: flex;
    flex-direction: column;
    transition: margin-left var(--transition);
  }
  body.sidebar-closed .main { margin-left: 0; }
  body.sidebar-closed .sidebar { transform: translateX(-100%); }

  .topbar {
    height: 56px;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    padding: 0 32px;
    flex-shrink: 0;
    gap: 16px;
  }
  .topbar-toggle {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: background var(--transition);
    color: var(--text-secondary);
    flex-shrink: 0;
  }
  .topbar-toggle:hover { background: var(--border-light); }
  .topbar-toggle svg { width: 20px; height: 20px; }

  .topbar-breadcrumb {
    font-size: 13px;
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .topbar-breadcrumb .crumb-active {
    color: var(--text);
    font-weight: 500;
  }

  .topbar-right {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .topbar-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: var(--bronze-glow);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 600;
    color: var(--bronze);
    font-family: 'Outfit', sans-serif;
  }

  .content {
    flex: 1;
    overflow-y: auto;
    padding: 36px 40px 60px;
    scroll-behavior: smooth;
  }

  /* ── PAGE SECTIONS ── */
  .page { display: none; animation: fadeUp 0.35s ease; }
  .page.active { display: block; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .page-header { margin-bottom: 32px; }
  .page-title {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    font-weight: 500;
    color: var(--text);
    margin-bottom: 6px;
  }
  .page-desc {
    font-size: 14px;
    color: var(--text-secondary);
    max-width: 600px;
    line-height: 1.7;
  }

  /* ── SECTION DIVIDERS ── */
  .section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 18px;
    margin-top: 8px;
  }
  .section-title {
    font-family: 'Outfit', sans-serif;
    font-size: 11px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--text-secondary);
  }
  .section-link {
    font-size: 12px;
    color: var(--bronze-dark);
    cursor: pointer;
    text-decoration: none;
    transition: color var(--transition);
  }
  .section-link:hover { color: var(--bronze); }

  /* ── DECISION CARDS ── */
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 18px;
    margin-bottom: 36px;
  }

  .decision-card {
    background: var(--surface);
    border-radius: var(--radius);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-card);
    transition: box-shadow var(--transition), transform var(--transition);
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  .decision-card:hover {
    box-shadow: var(--shadow-hover);
    transform: translateY(-2px);
  }

  .card-top {
    padding: 22px 24px 0;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
  }
  .card-body { padding: 10px 24px 20px; flex: 1; }
  .card-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--text);
    line-height: 1.4;
  }
  .card-desc {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.7;
    margin-top: 6px;
  }

  /* Expandable card details */
  .decision-card.expandable { cursor: pointer; }
  .decision-card.expandable .card-top::after {
    content: '▸';
    font-size: 14px;
    color: var(--text-muted);
    transition: transform var(--transition);
    flex-shrink: 0;
    margin-top: 2px;
  }
  .decision-card.expandable.expanded .card-top::after {
    transform: rotate(90deg);
    color: var(--bronze);
  }
  .card-detail {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.35s ease, padding 0.35s ease;
    padding: 0 24px;
    border-top: 0 solid var(--border-light);
  }
  .decision-card.expanded .card-detail {
    max-height: 600px;
    padding: 16px 24px 20px;
    border-top: 1px solid var(--border-light);
  }
  .card-detail-inner {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.7;
  }
  .card-detail-inner strong { color: var(--text); }
  .card-detail-inner .detail-label {
    font-family: 'Outfit', sans-serif;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--bronze-dark);
    margin-top: 12px;
    margin-bottom: 4px;
  }
  .card-detail-inner .detail-label:first-child { margin-top: 0; }
  .card-detail-inner code {
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    background: var(--bg);
    padding: 2px 6px;
    border-radius: 4px;
    color: var(--navy);
  }

  .status-badge {
    font-family: 'Outfit', sans-serif;
    font-size: 10px;
    font-weight: 500;
    letter-spacing: 0.5px;
    padding: 4px 12px;
    border-radius: 20px;
    white-space: nowrap;
    flex-shrink: 0;
  }
  .badge-review { background: rgba(196,149,90,0.12); color: var(--bronze); }
  .badge-proposed { background: rgba(59,111,160,0.1); color: var(--blue); }
  .badge-approved { background: rgba(46,125,66,0.08); color: var(--green); }
  .badge-draft { background: rgba(139,126,110,0.1); color: var(--text-secondary); }

  .card-footer {
    padding: 0 24px 20px;
  }
  .card-action {
    font-family: 'Outfit', sans-serif;
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 1.5px;
    color: var(--bronze);
    background: var(--bronze-glow);
    border: 1px solid rgba(196,149,90,0.15);
    padding: 14px 24px;
    border-radius: 10px;
    cursor: pointer;
    transition: all var(--transition);
    width: 100%;
    text-align: center;
    display: block;
  }
  .card-action:hover {
    background: rgba(196,149,90,0.2);
    color: var(--bronze-dark);
    border-color: rgba(196,149,90,0.3);
  }

  /* ── VOTE CARD ── */
  .vote-options {
    display: flex;
    gap: 8px;
    margin-top: 14px;
    flex-wrap: wrap;
  }
  .vote-btn {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    padding: 8px 16px;
    border-radius: 8px;
    border: 1px solid var(--border);
    background: var(--surface);
    color: var(--text);
    cursor: pointer;
    transition: all var(--transition);
    position: relative;
  }
  .vote-btn:hover {
    border-color: var(--bronze);
    background: var(--bronze-glow);
    color: var(--bronze-dark);
  }
  .vote-btn.selected {
    border-color: var(--bronze);
    background: var(--bronze-glow);
    color: var(--bronze-dark);
    font-weight: 600;
  }

  /* ── ACTIVITY LIST ── */
  .activity-list {
    background: var(--surface);
    border-radius: var(--radius);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-card);
    overflow: hidden;
    margin-bottom: 36px;
  }
  .activity-item {
    padding: 16px 24px;
    display: flex;
    align-items: flex-start;
    gap: 14px;
    border-bottom: 1px solid var(--border-light);
    transition: background var(--transition);
  }
  .activity-item:last-child { border-bottom: none; }
  .activity-item:hover { background: rgba(248,245,240,0.5); }
  .activity-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-top: 6px;
    flex-shrink: 0;
  }
  .dot-bronze { background: var(--bronze); }
  .dot-blue { background: var(--blue); }
  .dot-green { background: var(--green); }
  .activity-content { flex: 1; }
  .activity-title {
    font-size: 13px;
    font-weight: 500;
    color: var(--text);
    line-height: 1.4;
  }
  .activity-sub {
    font-size: 12px;
    color: var(--text-secondary);
    margin-top: 2px;
  }
  .activity-time {
    font-size: 11px;
    color: var(--text-muted);
    white-space: nowrap;
    flex-shrink: 0;
    margin-top: 2px;
  }

  /* ── CONCEPT LINK CARDS ── */
  .concept-links {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 32px;
  }
  .concept-link-card {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 18px 22px;
    background: white;
    border: 1px solid var(--border-light);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  }
  .concept-link-card:hover {
    border-color: var(--bronze);
    box-shadow: 0 2px 8px rgba(196,149,90,0.15);
    transform: translateY(-1px);
  }
  .concept-link-card:active {
    transform: translateY(0);
  }
  .concept-link-icon {
    width: 44px;
    height: 44px;
    border-radius: 10px;
    background: linear-gradient(135deg, rgba(196,149,90,0.1), rgba(196,149,90,0.05));
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: var(--bronze);
  }
  .concept-link-content {
    flex: 1;
    min-width: 0;
  }
  .concept-link-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text);
    line-height: 1.3;
  }
  .concept-link-sub {
    font-size: 12px;
    color: var(--text-secondary);
    margin-top: 3px;
    line-height: 1.3;
  }
  .concept-link-arrow {
    font-size: 28px;
    color: var(--bronze);
    flex-shrink: 0;
    font-weight: 300;
    line-height: 1;
    opacity: 0.6;
    transition: opacity 0.2s ease;
  }
  .concept-link-card:hover .concept-link-arrow {
    opacity: 1;
  }

  /* ── EMPTY STATE ── */
  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px 40px;
    text-align: center;
  }
  .empty-icon {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    background: var(--border-light);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    font-size: 28px;
    color: var(--text-muted);
  }
  .empty-title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 500;
    color: var(--text);
    margin-bottom: 8px;
  }
  .empty-desc {
    font-size: 14px;
    color: var(--text-secondary);
    max-width: 400px;
    line-height: 1.7;
  }
  .empty-divider {
    width: 40px;
    height: 2px;
    background: var(--border);
    margin: 20px auto;
    border-radius: 1px;
  }

  /* ── MODAL / OVERLAY ── */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(15,30,56,0.75);
    backdrop-filter: blur(4px);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }
  .modal-overlay.open {
    opacity: 1;
    visibility: visible;
  }

  .modal-container {
    width: 95vw;
    height: 93vh;
    background: var(--surface);
    border-radius: 16px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-shadow: 0 24px 80px rgba(0,0,0,0.3);
    transform: scale(0.96) translateY(12px);
    transition: transform 0.3s ease;
  }
  .modal-overlay.open .modal-container {
    transform: scale(1) translateY(0);
  }

  .modal-topbar {
    height: 52px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    border-bottom: 1px solid var(--border);
    flex-shrink: 0;
    background: #FDFBF8;
  }
  .modal-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--text);
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .modal-title .status-badge { font-size: 9px; }
  .modal-close {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: background var(--transition);
    color: var(--text-secondary);
    border: none;
    background: none;
    font-size: 20px;
  }
  .modal-close:hover { background: var(--border-light); color: var(--text); }
  .modal-close-label { display: none; }
  .modal-close-x { display: inline; }

  .modal-body {
    flex: 1;
    overflow: hidden;
  }
  .modal-body iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
  }

  /* ── RESPONSIVE ── */
  @media (max-width: 1024px) {
    .cards-grid { grid-template-columns: 1fr; }
  }
  @media (max-width: 768px) {
    :root { --sidebar-w: 260px; }
    .sidebar { transform: translateX(-100%); }
    .sidebar.mobile-open { transform: translateX(0); }
    .main { margin-left: 0 !important; }
    .content { padding: 20px 16px 80px; }
    .topbar { padding: 0 12px; height: 52px; }
    .topbar-toggle {
      width: 48px;
      height: 48px;
      border-radius: 10px;
      background: rgba(196,149,90,0.08);
      border: 1px solid rgba(196,149,90,0.15);
    }
    .topbar-toggle svg { width: 26px; height: 26px; }
    .page-title { font-size: 22px; }
    .page-desc { font-size: 13px; }
    .page-header { margin-bottom: 24px; }
    .concept-link-card { padding: 16px 16px; gap: 12px; }
    .concept-link-icon { width: 40px; height: 40px; border-radius: 8px; }
    .concept-link-title { font-size: 13px; }
    .concept-link-sub { font-size: 11px; }
    .concept-link-arrow { font-size: 24px; }
    .cards-grid { gap: 14px; margin-bottom: 28px; }
    .decision-card { border-radius: 10px; }
    .card-top { padding: 18px 18px 0; }
    .card-body { padding: 8px 18px 16px; }
    .card-title { font-size: 15px; }
    .card-desc { font-size: 13px; line-height: 1.6; }
    .card-footer { padding: 0 18px 18px; border-top: none; }
    .card-action {
      width: 100%;
      padding: 16px 24px;
      font-size: 13px;
      letter-spacing: 1.5px;
      border-radius: 10px;
      text-align: center;
      background: rgba(196,149,90,0.15);
      font-weight: 600;
    }
    .card-action:hover {
      background: rgba(196,149,90,0.25);
    }
    .activity-item { padding: 14px 16px; gap: 12px; }
    .activity-title { font-size: 13px; }
    .activity-sub { font-size: 11px; }
    .activity-time { font-size: 10px; }
    .section-header { margin-bottom: 14px; }
    .empty-state { padding: 60px 24px; }
    .empty-title { font-size: 18px; }
    .empty-desc { font-size: 13px; }
    .modal-container { width: 100vw; height: 100vh; border-radius: 0; }
    .modal-topbar { padding: 0 12px; height: 56px; }
    .modal-title { font-size: 13px; }
    .modal-close {
      width: auto;
      height: 42px;
      padding: 0 16px;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.5px;
      border-radius: 10px;
      background: rgba(196,149,90,0.1);
      border: 1px solid rgba(196,149,90,0.2);
      color: var(--bronze-dark);
      gap: 6px;
    }
    .modal-close:hover {
      background: rgba(196,149,90,0.2);
    }
    .modal-close-x { display: none; }
    .modal-close-label { display: inline; }
    .login-box { padding: 0 20px; }
    .login-title { font-size: 26px; letter-spacing: 8px; text-indent: 8px; }
    .login-lab-text { font-size: 15px; letter-spacing: 8px; text-indent: 8px; }
    .login-ring:nth-child(3),
    .login-ring:nth-child(4) { display: none; }
    .login-corner { display: none; }
    .vote-options { flex-direction: column; }
    .vote-btn { padding: 12px 16px; font-size: 13px; }
  }

  /* ── LOGIN GATE ── */
  .login-gate {
    position: fixed;
    inset: 0;
    z-index: 9999;
    background: #FAF7F2;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: opacity 0.6s cubic-bezier(0.4,0,0.2,1), visibility 0.6s cubic-bezier(0.4,0,0.2,1);
  }
  .login-gate.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }

  /* Layered background effects */
  .login-bg-layer {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }
  .login-bg-gradient {
    background:
      radial-gradient(ellipse 70% 50% at 50% 40%, rgba(196,149,90,0.1) 0%, transparent 65%),
      radial-gradient(ellipse 100% 70% at 50% 100%, rgba(196,149,90,0.06) 0%, transparent 55%),
      linear-gradient(180deg, #FDFBF8 0%, #F8F4ED 35%, #F5F0E8 60%, #FAF7F2 100%);
  }
  .login-bg-grid {
    background-image:
      linear-gradient(rgba(196,149,90,0.06) 1px, transparent 1px),
      linear-gradient(90deg, rgba(196,149,90,0.06) 1px, transparent 1px);
    background-size: 80px 80px;
    mask-image: radial-gradient(ellipse 70% 60% at 50% 50%, black 20%, transparent 70%);
    -webkit-mask-image: radial-gradient(ellipse 70% 60% at 50% 50%, black 20%, transparent 70%);
  }

  /* Concentric rings */
  .login-rings {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
  }
  .login-ring {
    position: absolute;
    border-radius: 50%;
    border: 1px solid rgba(196,149,90,0.1);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  .login-ring:nth-child(1) { width: 300px; height: 300px; border-color: rgba(196,149,90,0.15); }
  .login-ring:nth-child(2) { width: 480px; height: 480px; border-color: rgba(196,149,90,0.1); }
  .login-ring:nth-child(3) { width: 660px; height: 660px; border-color: rgba(196,149,90,0.06); }
  .login-ring:nth-child(4) { width: 840px; height: 840px; border-color: rgba(196,149,90,0.03); }

  /* Expanding pulse ring */
  .login-pulse-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    border-radius: 50%;
    border: 1px solid rgba(196,149,90,0.2);
    animation: ringExpand 8s cubic-bezier(0.25,0,0.25,1) infinite;
    pointer-events: none;
  }
  @keyframes ringExpand {
    0% { width: 200px; height: 200px; opacity: 0.5; }
    100% { width: 900px; height: 900px; opacity: 0; }
  }

  /* Corner accents */
  .login-corner {
    position: absolute;
    width: 60px;
    height: 60px;
    pointer-events: none;
  }
  .login-corner svg { width: 100%; height: 100%; }
  .login-corner--tl { top: 32px; left: 32px; }
  .login-corner--tr { top: 32px; right: 32px; transform: scaleX(-1); }
  .login-corner--bl { bottom: 32px; left: 32px; transform: scaleY(-1); }
  .login-corner--br { bottom: 32px; right: 32px; transform: scale(-1,-1); }

  /* Content */
  .login-box {
    position: relative;
    z-index: 2;
    text-align: center;
    max-width: 400px;
    width: 100%;
    padding: 0 28px;
  }

  .login-shield {
    margin-bottom: 24px;
    animation: loginFadeFloat 1s ease both;
    animation-delay: 0.2s;
    opacity: 0;
  }
  @keyframes loginFadeFloat {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .login-brand {
    animation: loginFadeFloat 1s ease both;
    animation-delay: 0.45s;
    opacity: 0;
    margin-bottom: 6px;
  }
  .login-title {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    font-weight: 400;
    color: #2C2420;
    letter-spacing: 12px;
    text-indent: 12px;
    margin-bottom: 0;
  }

  .login-flourish-wrap {
    animation: loginFadeFloat 1s ease both;
    animation-delay: 0.6s;
    opacity: 0;
    margin: 14px 0 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
  }
  .login-flourish-line {
    flex: 1;
    max-width: 90px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(196,149,90,0.6), transparent);
  }
  .login-flourish-diamond {
    width: 6px;
    height: 6px;
    background: rgba(196,149,90,0.7);
    transform: rotate(45deg);
    flex-shrink: 0;
  }

  /* LAB section with icon */
  .login-lab-section {
    animation: loginFadeFloat 1s ease both;
    animation-delay: 0.75s;
    opacity: 0;
    margin-bottom: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 14px;
  }
  .login-lab-icon {
    position: relative;
  }
  @keyframes labFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
  }
  @keyframes bubbleUp {
    0% { opacity: 0.7; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(-12px) scale(0.4); }
  }
  .login-lab-icon svg { display: block; }
  .login-lab-text {
    font-family: 'Outfit', sans-serif;
    font-size: 18px;
    letter-spacing: 10px;
    text-indent: 10px;
    color: var(--bronze);
    font-weight: 500;
  }

  .login-form {
    animation: loginFadeFloat 1s ease both;
    animation-delay: 0.95s;
    opacity: 0;
  }

  .login-field {
    position: relative;
    margin-bottom: 16px;
  }
  .login-field-label {
    position: absolute;
    top: -8px;
    left: 16px;
    font-family: 'Outfit', sans-serif;
    font-size: 9px;
    letter-spacing: 2.5px;
    text-transform: uppercase;
    color: rgba(196,149,90,0.8);
    background: #F6F2EB;
    padding: 0 8px;
    z-index: 1;
  }
  .login-input {
    width: 100%;
    padding: 16px 20px;
    background: rgba(255,255,255,0.7);
    border: 1px solid rgba(196,149,90,0.3);
    border-radius: 8px;
    color: #2C2420;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 1px;
    outline: none;
    transition: all 0.3s ease;
  }
  .login-input::placeholder { color: rgba(120,100,80,0.35); letter-spacing: 1px; }
  .login-input:focus {
    border-color: rgba(196,149,90,0.6);
    background: #FFFFFF;
    box-shadow: 0 0 0 3px rgba(196,149,90,0.1), 0 4px 24px rgba(196,149,90,0.08);
  }

  .login-btn {
    width: 100%;
    padding: 16px;
    background: linear-gradient(135deg, #C4955A, #B8864E);
    border: 1px solid rgba(196,149,90,0.6);
    border-radius: 8px;
    color: #FFFFFF;
    font-family: 'Outfit', sans-serif;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 4px;
    text-indent: 4px;
    cursor: pointer;
    transition: all 0.35s ease;
    margin-top: 4px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(196,149,90,0.2);
  }
  .login-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #D4A86A, #C4955A);
    opacity: 0;
    transition: opacity 0.35s ease;
  }
  .login-btn:hover {
    border-color: rgba(196,149,90,0.8);
    color: #FFFFFF;
    box-shadow: 0 4px 20px rgba(196,149,90,0.3), 0 2px 8px rgba(196,149,90,0.15);
    transform: translateY(-1px);
  }
  .login-btn:hover::before { opacity: 1; }

  .login-error {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    font-weight: 400;
    color: #C25544;
    margin-top: 16px;
    height: 18px;
    letter-spacing: 0.5px;
    transition: opacity 0.3s ease;
  }

  .login-footer-section {
    animation: loginFadeFloat 1s ease both;
    animation-delay: 1.15s;
    opacity: 0;
    margin-top: 48px;
  }
  .login-footer-line {
    width: 28px;
    height: 1px;
    background: rgba(196,149,90,0.3);
    margin: 0 auto 14px;
  }
  .login-footer {
    font-family: 'Outfit', sans-serif;
    font-size: 9px;
    letter-spacing: 3px;
    text-indent: 3px;
    color: rgba(120,100,80,0.4);
    text-transform: uppercase;
  }

  /* ── SCROLLBAR ── */
  .content::-webkit-scrollbar,
  .sidebar-nav::-webkit-scrollbar {
    width: 5px;
  }
  .content::-webkit-scrollbar-track { background: transparent; }
  .content::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 3px;
  }
  .content::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }
  .sidebar-nav::-webkit-scrollbar-track { background: transparent; }
  .sidebar-nav::-webkit-scrollbar-thumb {
    background: rgba(232,220,200,0.1);
    border-radius: 3px;
  }
</style>
</head>
<body>

<!-- ═══════════════ LOGIN GATE ═══════════════ -->
<div class="login-gate" id="loginGate">
  <!-- Background layers -->
  <div class="login-bg-layer login-bg-gradient"></div>
  <div class="login-bg-layer login-bg-grid"></div>

  <!-- Concentric rings -->
  <div class="login-rings">
    <div class="login-ring"></div>
    <div class="login-ring"></div>
    <div class="login-ring"></div>
    <div class="login-ring"></div>
  </div>
  <div class="login-pulse-ring"></div>

  <!-- Corner accents -->
  <div class="login-corner login-corner--tl"><svg viewBox="0 0 60 60" fill="none"><path d="M0 40 L0 0 L40 0" stroke="rgba(196,149,90,0.3)" stroke-width="0.5"/><circle cx="0" cy="0" r="2" fill="rgba(196,149,90,0.35)"/></svg></div>
  <div class="login-corner login-corner--tr"><svg viewBox="0 0 60 60" fill="none"><path d="M0 40 L0 0 L40 0" stroke="rgba(196,149,90,0.3)" stroke-width="0.5"/><circle cx="0" cy="0" r="2" fill="rgba(196,149,90,0.35)"/></svg></div>
  <div class="login-corner login-corner--bl"><svg viewBox="0 0 60 60" fill="none"><path d="M0 40 L0 0 L40 0" stroke="rgba(196,149,90,0.3)" stroke-width="0.5"/><circle cx="0" cy="0" r="2" fill="rgba(196,149,90,0.35)"/></svg></div>
  <div class="login-corner login-corner--br"><svg viewBox="0 0 60 60" fill="none"><path d="M0 40 L0 0 L40 0" stroke="rgba(196,149,90,0.3)" stroke-width="0.5"/><circle cx="0" cy="0" r="2" fill="rgba(196,149,90,0.35)"/></svg></div>

  <!-- Login content -->
  <div class="login-box">
    <div class="login-shield">
      <svg width="68" height="82" viewBox="0 0 80 96">
        <defs>
          <linearGradient id="shieldGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#D4A86A" stop-opacity="0.9"/>
            <stop offset="100%" stop-color="#C4955A" stop-opacity="0.5"/>
          </linearGradient>
        </defs>
        <path d="M40 4 L72 18 L72 52 Q72 76 40 88 Q8 76 8 52 L8 18 Z" fill="rgba(250,247,242,0.9)" stroke="url(#shieldGrad)" stroke-width="1.5"/>
        <path d="M40 10 L66 22 L66 50 Q66 72 40 82 Q14 72 14 50 L14 22 Z" fill="none" stroke="rgba(196,149,90,0.2)" stroke-width="0.5"/>
        <text x="40" y="50" font-family="Playfair Display" font-style="italic" font-size="28" fill="#D4A86A" text-anchor="middle" dominant-baseline="middle" font-weight="500">TC</text>
        <path d="M28 64 Q34 68 40 64 Q46 60 52 64" fill="none" stroke="rgba(196,149,90,0.35)" stroke-width="0.6"/>
      </svg>
    </div>

    <div class="login-brand">
      <div class="login-title">TRIUMPH</div>
    </div>

    <div class="login-flourish-wrap">
      <div class="login-flourish-line"></div>
      <div class="login-flourish-diamond"></div>
      <div class="login-flourish-line"></div>
    </div>

    <div class="login-lab-section">
      <div class="login-lab-icon">
        <svg width="36" height="44" viewBox="0 0 48 58" fill="none">
          <!-- Flask body -->
          <path d="M18 4 L18 22 L6 46 Q4 50 7 53 Q10 56 14 56 L34 56 Q38 56 41 53 Q44 50 42 46 L30 22 L30 4" stroke="#C4955A" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          <!-- Flask top rim -->
          <path d="M15 4 L33 4" stroke="#C4955A" stroke-width="1.8" stroke-linecap="round"/>
          <!-- Liquid level -->
          <path d="M10 40 Q16 36 24 40 Q32 44 38 40 L42 46 Q44 50 41 53 Q38 56 34 56 L14 56 Q10 56 7 53 Q4 50 6 46 Z" fill="rgba(196,149,90,0.2)" stroke="none"/>
          <path d="M10 40 Q16 36 24 40 Q32 44 38 40" stroke="rgba(196,149,90,0.6)" stroke-width="0.8" fill="none"/>
          <!-- Orbit ring -->
          <ellipse cx="24" cy="32" rx="22" ry="8" stroke="#C4955A" stroke-width="0.9" fill="none" opacity="0.5" transform="rotate(-20 24 32)"/>
          <!-- Bubbles -->
          <circle cx="20" cy="34" r="1.8" fill="rgba(196,149,90,0.5)"/>
          <circle cx="26" cy="30" r="1.2" fill="rgba(196,149,90,0.4)"/>
          <circle cx="22" cy="26" r="0.8" fill="rgba(196,149,90,0.35)"/>
          <!-- Sparkle dots -->
          <circle cx="8" cy="14" r="1" fill="rgba(196,149,90,0.45)"/>
          <circle cx="40" cy="10" r="0.7" fill="rgba(196,149,90,0.35)"/>
          <circle cx="42" cy="20" r="1.2" fill="rgba(196,149,90,0.4)"/>
          <!-- Small cross sparkles -->
          <path d="M38 8 L38 12 M36 10 L40 10" stroke="rgba(196,149,90,0.45)" stroke-width="0.7" stroke-linecap="round"/>
          <path d="M6 22 L6 25 M4.5 23.5 L7.5 23.5" stroke="rgba(196,149,90,0.35)" stroke-width="0.6" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="login-lab-text">LAB</div>
    </div>

    <form class="login-form" onsubmit="return handleLogin(event)">
      <div class="login-field">
        <span class="login-field-label">Password</span>
        <input class="login-input" type="password" id="loginPass" placeholder="Enter password" autocomplete="off" autofocus />
      </div>
      <button class="login-btn" type="submit">ENTER</button>
    </form>
    <div class="login-error" id="loginError">&nbsp;</div>

    <div class="login-footer-section">
      <div class="login-footer-line"></div>
      <div class="login-footer">Triumph Capital Management</div>
    </div>
  </div>
</div>

<!-- ═══════════════ SIDEBAR ═══════════════ -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-brand">
    <svg width="36" height="42" viewBox="0 0 36 42" style="flex-shrink:0;">
      <path d="M18 3 L33 10 L33 26 Q33 36 18 40 Q3 36 3 26 L3 10 Z" fill="#0F1E38" stroke="#C4955A" stroke-width="1"/>
      <text x="18" y="23" font-family="Playfair Display" font-style="italic" font-size="15" fill="#C4955A" text-anchor="middle" dominant-baseline="middle" font-weight="500">TC</text>
      <path d="M11 30 Q14.5 32.5 18 30 Q21.5 27.5 25 30" fill="none" stroke="#C4955A" stroke-width="0.4" opacity="0.35"/>
    </svg>
    <div class="sidebar-brand-text">
      <div class="sidebar-brand-title">Triumph Lab</div>
      <div class="sidebar-brand-sub">Decision Hub</div>
    </div>
  </div>

  <nav class="sidebar-nav">
    <div class="sidebar-section-label">Navigation</div>

    <div class="nav-item active" data-page="dashboard" onclick="showPage('dashboard')">
      <div class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      </div>
      Dashboard
    </div>

    <div class="sidebar-section-label" style="margin-top:8px;">Categories</div>

    <div class="nav-item" data-page="brand" onclick="showPage('brand')">
      <div class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r="2.5"/><circle cx="6.5" cy="13.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/><path d="M13.5 9v3.5L11 15"/><path d="M9 13.5h3.5L15 16"/></svg>
      </div>
      Brand & Design
      <span class="item-count">3</span>
    </div>

    <div class="nav-item" data-page="portal" onclick="showPage('portal')">
      <div class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
      </div>
      Portal & UX
    </div>

    <div class="nav-item" data-page="tech" onclick="showPage('tech')">
      <div class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/><line x1="14" y1="4" x2="10" y2="20"/></svg>
      </div>
      Tech & Integrations
      <span class="item-count">7</span>
    </div>

    <div class="nav-item" data-page="compliance" onclick="showPage('compliance')">
      <div class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><polyline points="9 12 11 14 15 10"/></svg>
      </div>
      Compliance & Ops
    </div>

    <div class="nav-item" data-page="models" onclick="showPage('models')">
      <div class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/><line x1="3" y1="20" x2="21" y2="20"/></svg>
      </div>
      Models & Investments
    </div>

    <div class="nav-item" data-page="decisions" onclick="showPage('decisions')">
      <div class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
      </div>
      Team Decisions
    </div>
  </nav>

  <div class="sidebar-footer">
    <div class="sidebar-footer-text">Triumph Capital Management</div>
  </div>
</aside>

<!-- ═══════════════ MAIN CONTENT ═══════════════ -->
<main class="main">
  <!-- TOPBAR -->
  <header class="topbar">
    <div class="topbar-toggle" onclick="toggleSidebar()" title="Toggle sidebar">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </div>
    <div class="topbar-breadcrumb">
      <span>Triumph Lab</span>
      <span style="color:var(--text-muted);">›</span>
      <span class="crumb-active" id="breadcrumb-page">Dashboard</span>
    </div>
    <div class="topbar-right">
      <div class="topbar-avatar">JT</div>
    </div>
  </header>

  <!-- CONTENT AREA -->
  <div class="content">

    <!-- ═══ DASHBOARD ═══ -->
    <div class="page active" id="page-dashboard">
      <div class="page-header">
        <div class="page-title">Triumph Lab</div>
        <div class="page-desc">Internal hub for brand concepts, portal design, technology, and operations.</div>
      </div>

      <div class="section-header">
        <div class="section-title">Brand Concepts</div>
        <a class="section-link" onclick="showPage('brand')">View all &rarr;</a>
      </div>
      <div class="concept-links">
        <div class="concept-link-card" onclick="showPage('brand')">
          <div class="concept-link-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="3"/><line x1="9" y1="3" x2="9" y2="21"/><line x1="15" y1="3" x2="15" y2="21"/></svg>
          </div>
          <div class="concept-link-content">
            <div class="concept-link-title">All Three Logo Concepts</div>
            <div class="concept-link-sub">Heritage Elevated, Modern Authority, Refined Distinction</div>
          </div>
          <div class="concept-link-arrow">&rsaquo;</div>
        </div>
        <div class="concept-link-card" onclick="showPage('brand')">
          <div class="concept-link-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2L3 7v10l9 5 9-5V7l-9-5z"/><line x1="12" y1="12" x2="12" y2="22"/><line x1="3" y1="7" x2="12" y2="12"/><line x1="21" y1="7" x2="12" y2="12"/></svg>
          </div>
          <div class="concept-link-content">
            <div class="concept-link-title">Concept 1 — Heritage Elevated</div>
            <div class="concept-link-sub">Full exploration with light and dark themes</div>
          </div>
          <div class="concept-link-arrow">&rsaquo;</div>
        </div>
        <div class="concept-link-card" onclick="showPage('brand')">
          <div class="concept-link-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="9"/><text x="12" y="16" text-anchor="middle" font-size="10" fill="currentColor" stroke="none" font-weight="600">TC</text></svg>
          </div>
          <div class="concept-link-content">
            <div class="concept-link-title">TC Monogram Integration</div>
            <div class="concept-link-sub">How the existing TC logo adapts into each direction</div>
          </div>
          <div class="concept-link-arrow">&rsaquo;</div>
        </div>
      </div>

      <div class="section-header">
        <div class="section-title">Recent Activity</div>
      </div>
      <div class="activity-list">
        <div class="activity-item">
          <div class="activity-dot dot-green"></div>
          <div class="activity-content">
            <div class="activity-title">DocuSign Production — TCM Account Verified</div>
            <div class="activity-sub">Info@ account has full API access. Account ID, base URI (na3), and integration path confirmed. Build first, swap later.</div>
          </div>
          <div class="activity-time">Feb 11</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-bronze"></div>
          <div class="activity-content">
            <div class="activity-title">Schwab DocuSign — No API (Confirmed by Schwab)</div>
            <div class="activity-sub">Schwab confirmed they do not offer API integrations. Using TCM's own DocuSign account instead.</div>
          </div>
          <div class="activity-time">Feb 11</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-green"></div>
          <div class="activity-content">
            <div class="activity-title">Dashboard Table — Redesigned & Deployed</div>
            <div class="activity-sub">Wider layout, IAR/Team + AUM columns, compact buttons, bulk Empty Trash. Commit 998f768.</div>
          </div>
          <div class="activity-time">Feb 11</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-blue"></div>
          <div class="activity-content">
            <div class="activity-title">DocuSign Production — Decision Needed</div>
            <div class="activity-sub">Schwab instance is admin-locked. Go Live path recommended for developer app.</div>
          </div>
          <div class="activity-time">Feb 11</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-green"></div>
          <div class="activity-content">
            <div class="activity-title">TCM MAP Application — Phase 1 Complete</div>
            <div class="activity-sub">IAR workflow enhancements, multi-account picker, role-based access, DocuSign signing</div>
          </div>
          <div class="activity-time">Feb 11</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-green"></div>
          <div class="activity-content">
            <div class="activity-title">Schwab Accounts Data Loaded</div>
            <div class="activity-sub">2,639 accounts + 86 IAR rep codes imported into Supabase</div>
          </div>
          <div class="activity-time">Feb 11</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-bronze"></div>
          <div class="activity-content">
            <div class="activity-title">Tech & Integrations category populated</div>
            <div class="activity-sub">7 items: MAP app status, Supabase schema, DocuSign integration, deployment</div>
          </div>
          <div class="activity-time">Feb 11</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-bronze"></div>
          <div class="activity-content">
            <div class="activity-title">Brand & Design category created</div>
            <div class="activity-sub">3 concepts added for managed program branding</div>
          </div>
          <div class="activity-time">Earlier</div>
        </div>
        <div class="activity-item">
          <div class="activity-dot dot-green"></div>
          <div class="activity-content">
            <div class="activity-title">Triumph Lab launched</div>
            <div class="activity-sub">Decision hub is live for team review</div>
          </div>
          <div class="activity-time">Earlier</div>
        </div>
      </div>
    </div>

    <!-- ═══ BRAND & DESIGN ═══ -->
    <div class="page" id="page-brand">
      <div class="page-header">
        <div class="page-title">Brand & Design</div>
        <div class="page-desc">Logo concepts, color palettes, typography decisions — where the managed program branding lives.</div>
      </div>

      <div class="section-header">
        <div class="section-title">Managed Program Identity</div>
        <span class="section-link">3 concepts</span>
      </div>

      <div class="cards-grid">
        <!-- Card 1 -->
        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">All Three Logo Concepts — Initial Exploration</div>
          </div>
          <div class="card-body">
            <div class="card-desc">Three directions side by side: Heritage Elevated, Modern Authority, Refined Distinction. Compare shield marks, typography, and color approaches.</div>
          </div>
          <div class="card-footer">
            <button class="card-action" onclick="openModal('All Three Logo Concepts', 'triumph-managed-program-concepts.html')">View Concept</button>
          </div>
        </div>

        <!-- Card 2 -->
        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">Concept 1 Expanded — Heritage Elevated</div>
          </div>
          <div class="card-body">
            <div class="card-desc">Deep dive into the shield + TC monogram with bronze accent. Includes light and dark theme variations, industry color analysis, and portal mockups.</div>
          </div>
          <div class="card-footer">
            <button class="card-action" onclick="openModal('Concept 1 — Heritage Elevated', 'triumph-concept1-expanded.html')">View Concept</button>
          </div>
        </div>

        <!-- Card 3 -->
        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">TC Monogram Integration</div>
          </div>
          <div class="card-body">
            <div class="card-desc">How the existing TC chrome logo adapts into each concept direction. Explores monogram variations across Heritage, Modern, and Refined approaches.</div>
          </div>
          <div class="card-footer">
            <button class="card-action" onclick="openModal('TC Monogram Integration', 'triumph-tc-integration_1.html')">View Concept</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ═══ PORTAL & UX ═══ -->
    <div class="page" id="page-portal">
      <div class="page-header">
        <div class="page-title">Portal & UX</div>
        <div class="page-desc">Dashboard mockups, advisor portal wireframes, client-facing UI decisions.</div>
      </div>
      <div class="empty-state">
        <div class="empty-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
        </div>
        <div class="empty-title">Nothing here yet</div>
        <div class="empty-divider"></div>
        <div class="empty-desc">Advisor dashboard wireframes, client portal designs, and login flow mockups will appear here as they're added.</div>
      </div>
    </div>

    <!-- ═══ TECH & INTEGRATIONS ═══ -->
    <div class="page" id="page-tech">
      <div class="page-header">
        <div class="page-title">Tech & Integrations</div>
        <div class="page-desc">Black Diamond API, Supabase architecture, Schwab/Fidelity connectivity, DocuSign eSignature, AI features.</div>
      </div>

      <!-- TCM MAP Application -->
      <div class="section-header">
        <div class="section-title">TCM MAP Application</div>
        <span class="section-link">Managed Account Program Onboarding</span>
      </div>
      <div class="cards-grid">

        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">Application Status — Feature Complete (Phase 1)</div>
            <span class="status-badge badge-approved">Completed</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              Single-page web application for IAR-to-client onboarding of managed accounts. Built with vanilla JS + Supabase backend.<br><br>
              <strong>Completed Features:</strong><br>
              &bull; Multi-form types: Full MAP, TTAMP MAP, TTAMP Agreement, Institutional MAP<br>
              &bull; 16-step wizard with conditional visibility per form type<br>
              &bull; Client directory search from 2,639 Schwab accounts in Supabase<br>
              &bull; IAR workflow: non-linear stepper, step validation with green checkmarks<br>
              &bull; Multi-account client picker (grouped by email, account selection modal)<br>
              &bull; IAR-only sections: Management, Schedule A, TTAMP Models (read-only for clients)<br>
              &bull; Simplified client signing view (only incomplete steps shown)<br>
              &bull; Email invitations via Supabase Edge Function + Resend API<br>
              &bull; DocuSign embedded signing integration (developer environment)<br>
              &bull; Application lifecycle: draft, sent, viewed, signed, completed, voided<br>
              &bull; Trash/restore functionality for applications
            </div>
          </div>
        </div>

        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">Supabase Database — Schema & Data Loaded</div>
            <span class="status-badge badge-approved">Live</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              <strong>Project:</strong> pwqdjrezeqxpqercoarv.supabase.co<br><br>
              <strong>Tables:</strong><br>
              &bull; <code>applications</code> — MAP form submissions with full JSON data<br>
              &bull; <code>schwab_accounts</code> — 2,639 client accounts loaded from Schwab export<br>
              &bull; <code>iar_rep_codes</code> — 86 IAR rep codes across Schwab, Fidelity, Security Benefit<br>
              &bull; <code>client_directory</code> — Legacy table (replaced by schwab_accounts)<br><br>
              <strong>Security:</strong> Row Level Security enabled on all tables. Service role for bulk ops, authenticated users for read access.
            </div>
          </div>
        </div>

        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">IAR Rep Code Mapping</div>
            <span class="status-badge badge-approved">Loaded</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              86 IAR rep codes mapped across 3 custodians:<br><br>
              &bull; <strong>Schwab:</strong> 54 rep codes (13 TTAMP-enabled)<br>
              &bull; <strong>Fidelity:</strong> 14 rep codes<br>
              &bull; <strong>Security Benefit:</strong> 18 rep codes<br><br>
              IARs: Brandon Drespling, Brent McGibbon, Brian Stark, Christopher Kolker, Cook/Peters, Cory Robinson, Dan Mayer, Derek Eichenwald, Eichenwald/Drespling, Greg Schowe, Schowe/Waters, Shea Winkeller, Stark/Mayer, Stark/Robinson, Stephen Murphy, Tim Waters
            </div>
          </div>
        </div>
      </div>

      <!-- DocuSign Integration -->
      <div class="section-header">
        <div class="section-title">DocuSign eSignature Integration</div>
        <span class="section-link">Signing Workflow</span>
      </div>
      <div class="cards-grid">

        <div class="decision-card expandable" onclick="toggleCardDetail(this)">
          <div class="card-top">
            <div class="card-title">DocuSign Developer Environment — Working</div>
            <span class="status-badge badge-approved">Active</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              Embedded signing via Supabase Edge Function using JWT/RSA authentication. Fully functional for testing in developer sandbox.
            </div>
          </div>
          <div class="card-detail">
            <div class="card-detail-inner">
              <div class="detail-label">Developer Account</div>
              &bull; Email: jt@triumphcapitalmanagement.com<br>
              &bull; Integration Key: <code>9614d768-9917-4dbd-91f8-009d827da394</code><br>
              &bull; Base URL: <code>demo.docusign.net</code><br>
              &bull; Auth URL: <code>account-d.docusign.com</code><br>

              <div class="detail-label">Authentication Method</div>
              JWT (JSON Web Token) with RSA key pair. Private key stored as Supabase Edge Function secret. No user interaction needed for token refresh.

              <div class="detail-label">Signing Flow</div>
              1. TCM MAP app calls Supabase Edge Function with envelope data<br>
              2. Edge Function authenticates via JWT → gets access token<br>
              3. Creates envelope with PDF document + signing tabs<br>
              4. Returns embedded signing URL for client/IAR<br>
              5. Client signs in-browser → webhook updates application status

              <div class="detail-label">What Carries Over to Production</div>
              The Integration Key itself stays the same after Go Live. Only 3 config values change (base URL, account ID, auth URL). All code, templates, and signing logic remain identical.
            </div>
          </div>
        </div>

        <div class="decision-card expandable" onclick="toggleCardDetail(this)">
          <div class="card-top">
            <div class="card-title">Schwab DocuSign — No API Available</div>
            <span class="status-badge badge-rejected">Closed</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              Schwab confirmed they do not offer API integrations for their DocuSign instance. Using TCM's own account instead.
            </div>
          </div>
          <div class="card-detail">
            <div class="card-detail-inner">
              <div class="detail-label">Investigation Summary</div>
              Explored the Schwab-licensed DocuSign account to determine if API integration was possible for production use.

              <div class="detail-label">Schwab Account Details</div>
              &bull; Account #4401432 — Charles Schwab & Co, Inc<br>
              &bull; User: Jeff Thomas (jt@triumphcapitalmanagement.com)<br>
              &bull; Connected Apps found: Zapier, JotForm<br>

              <div class="detail-label">Technical Findings</div>
              &bull; No API Keys page available in admin<br>
              &bull; Admin console redirects to login (no admin role granted)<br>
              &bull; Cannot create Integration Keys or RSA key pairs<br>
              &bull; Schwab controls all admin and security settings<br>

              <div class="detail-label">Schwab Confirmation</div>
              Jeff spoke with Schwab directly — they confirmed they do not offer API integrations for their DocuSign instances.

              <div class="detail-label">Resolution</div>
              Use Triumph Capital Management's own DocuSign account (Info@triumphcapitalmanagement.com) which has full admin access and API integration capabilities.
            </div>
          </div>
        </div>

        <div class="decision-card expandable" onclick="toggleCardDetail(this)">
          <div class="card-top">
            <div class="card-title">TCM Production DocuSign — API Confirmed</div>
            <span class="status-badge badge-approved">Verified</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              Triumph Capital Management's own DocuSign account has full API/Integration capabilities. Account verified at na3.docusign.net with admin access.
            </div>
          </div>
          <div class="card-detail">
            <div class="card-detail-inner">
              <div class="detail-label">Production Account</div>
              &bull; Account: Info@triumphcapitalmanagement.com<br>
              &bull; Account Name: Triumph Capital Management<br>
              &bull; Account ID (numeric): 29347645<br>
              &bull; Admin User: Derek N. Citerowski<br>
              &bull; Completed Envelopes: 252 (last 6 months)<br>

              <div class="detail-label">API Configuration Values</div>
              &bull; API Account ID: <code>8aaefee3-b75d-4597-bf6c-7f52e07f09d1</code><br>
              &bull; Base URI: <code>https://na3.docusign.net</code><br>
              &bull; Auth URL: <code>account.docusign.com</code> (production)<br>

              <div class="detail-label">Available Integration Features</div>
              &bull; Apps and Keys — Integration Key management<br>
              &bull; API Usage Center — Monitor API calls<br>
              &bull; CORS — Configure allowed origins<br>
              &bull; Connect — Webhook event notifications<br>

              <div class="detail-label">Current Status</div>
              No Integration Keys created yet. Keys are created in the developer account and migrated to production via the Go Live process. The existing developer IK (9614d768-...) will be used.
            </div>
          </div>
        </div>

        <div class="decision-card expandable" onclick="toggleCardDetail(this)">
          <div class="card-top">
            <div class="card-title">Go Live Migration — Plan Confirmed</div>
            <span class="status-badge badge-review">When Ready</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              Finish building the full portal and flow on developer sandbox first, then swap 3 config values to go live on TCM's production account. No blockers remaining.
            </div>
          </div>
          <div class="card-detail">
            <div class="card-detail-inner">
              <div class="detail-label">Strategy</div>
              Build and test everything using the developer sandbox (jt@triumphcapitalmanagement.com). When the portal and signing flow are complete, submit Go Live and swap config values. This avoids any risk to the production account during development.

              <div class="detail-label">Go Live Steps</div>
              1. Submit Integration Key (<code>9614d768-...</code>) for DocuSign "Go Live" review<br>
              2. Pass automated API usage review (~24 hours)<br>
              3. Grant application consent on TCM production account<br>
              4. Update Supabase Edge Function config values<br>
              5. Test end-to-end on production

              <div class="detail-label">Config Swap — 3 Values</div>
              <table style="width:100%; font-size:12px; margin-top:4px; border-collapse:collapse;">
                <tr style="border-bottom:1px solid var(--border-light);">
                  <td style="padding:4px 0; font-weight:600;">Base URL</td>
                  <td style="padding:4px 8px; color:var(--text-muted);">demo.docusign.net</td>
                  <td style="padding:4px 0;">→</td>
                  <td style="padding:4px 8px;"><code>na3.docusign.net</code></td>
                </tr>
                <tr style="border-bottom:1px solid var(--border-light);">
                  <td style="padding:4px 0; font-weight:600;">Account ID</td>
                  <td style="padding:4px 8px; color:var(--text-muted);">(sandbox ID)</td>
                  <td style="padding:4px 0;">→</td>
                  <td style="padding:4px 8px;"><code>8aaefee3-b75d-...</code></td>
                </tr>
                <tr>
                  <td style="padding:4px 0; font-weight:600;">Auth URL</td>
                  <td style="padding:4px 8px; color:var(--text-muted);">account-d.docusign.com</td>
                  <td style="padding:4px 0;">→</td>
                  <td style="padding:4px 8px;"><code>account.docusign.com</code></td>
                </tr>
              </table>

              <div class="detail-label">Production Target</div>
              Triumph Capital Management — Info@triumphcapitalmanagement.com<br>
              API Account ID: <code>8aaefee3-b75d-4597-bf6c-7f52e07f09d1</code>

              <div class="detail-label">Blockers</div>
              None. All production details confirmed. Ready to execute whenever the portal build is complete.
            </div>
          </div>
        </div>
      </div>

      <!-- Deployment & Repository -->
      <div class="section-header">
        <div class="section-title">Deployment & Repository</div>
        <span class="section-link">Infrastructure</span>
      </div>
      <div class="cards-grid">

        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">GitHub Repository</div>
            <span class="status-badge badge-approved">Live</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              Repository: TCM MAP Application on GitHub<br>
              Local path: C:\dev\2_lab\TCM MAP Application<br>
              Latest commit: 33e4460 — IAR workflow enhancements<br><br>
              <strong>Branching Discussion:</strong> Options explored for creating a separate version while keeping original intact. Recommended: Git branch + separate Vercel project. No action taken yet — exploratory only.
            </div>
          </div>
        </div>

        <div class="decision-card">
          <div class="card-top">
            <div class="card-title">Version Branching Strategy</div>
            <span class="status-badge badge-proposed">Under Consideration</span>
          </div>
          <div class="card-body">
            <div class="card-desc">
              Three options evaluated for creating a separate deployable version:<br><br>
              <strong>Option 1 (Recommended):</strong> Git branch + separate Vercel project<br>
              &bull; Same repo, new branch, new Vercel deployment<br>
              &bull; Easy to maintain and sync changes<br><br>
              <strong>Option 2:</strong> Fork to new repository<br>
              &bull; Complete separation, independent history<br><br>
              <strong>Option 3:</strong> Monorepo with subdirectories<br>
              &bull; More complex, shared dependencies<br><br>
              <strong>Status:</strong> No action taken — user wants to keep this option available for future.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ═══ COMPLIANCE & OPS ═══ -->
    <div class="page" id="page-compliance">
      <div class="page-header">
        <div class="page-title">Compliance & Operations</div>
        <div class="page-desc">Surveillance tools, TTAMP committee workflows, reporting templates.</div>
      </div>
      <div class="empty-state">
        <div class="empty-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><polyline points="9 12 11 14 15 10"/></svg>
        </div>
        <div class="empty-title">Nothing here yet</div>
        <div class="empty-divider"></div>
        <div class="empty-desc">Surveillance tool decisions, committee workflow designs, and reporting template reviews will appear here as they're added.</div>
      </div>
    </div>

    <!-- ═══ MODELS & INVESTMENTS ═══ -->
    <div class="page" id="page-models">
      <div class="page-header">
        <div class="page-title">Models & Investments</div>
        <div class="page-desc">Model lineup decisions, allocation strategies, factsheet designs.</div>
      </div>
      <div class="empty-state">
        <div class="empty-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/><line x1="3" y1="20" x2="21" y2="20"/></svg>
        </div>
        <div class="empty-title">Nothing here yet</div>
        <div class="empty-divider"></div>
        <div class="empty-desc">Model lineup changes, allocation strategy reviews, and factsheet design approvals will appear here as they're added.</div>
      </div>
    </div>

    <!-- ═══ TEAM DECISIONS ═══ -->
    <div class="page" id="page-decisions">
      <div class="page-header">
        <div class="page-title">Team Decisions</div>
        <div class="page-desc">Items needing votes or input, active discussion items with status tracking.</div>
      </div>
      <div class="empty-state">
        <div class="empty-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
        </div>
        <div class="empty-title">Nothing here yet</div>
        <div class="empty-divider"></div>
        <div class="empty-desc">Cross-category decisions requiring team votes and input will appear here. Items can be proposed, reviewed, and approved.</div>
      </div>
    </div>

  </div><!-- /content -->
</main>

<!-- ═══════════════ MODAL ═══════════════ -->
<div class="modal-overlay" id="modal" onclick="closeModalBackdrop(event)">
  <div class="modal-container">
    <div class="modal-topbar">
      <div class="modal-title">
        <span id="modal-title-text"></span>
      </div>
      <button class="modal-close" onclick="closeModal()" title="Close (Esc)"><span class="modal-close-x">&times;</span><span class="modal-close-label">&#x2715; Close</span></button>
    </div>
    <div class="modal-body">
      <iframe id="modal-iframe" src="about:blank"></iframe>
    </div>
  </div>
</div>

<script>
  // ── PAGE NAVIGATION ──
  const pages = {
    dashboard: 'Dashboard',
    brand: 'Brand & Design',
    portal: 'Portal & UX',
    tech: 'Tech & Integrations',
    compliance: 'Compliance & Operations',
    models: 'Models & Investments',
    decisions: 'Team Decisions'
  };

  function toggleCardDetail(el) {
    const card = el.closest('.decision-card');
    if (card) card.classList.toggle('expanded');
  }

  function showPage(pageId) {
    // Update pages
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    const target = document.getElementById('page-' + pageId);
    if (target) target.classList.add('active');

    // Update nav
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    const navItem = document.querySelector(`.nav-item[data-page="${pageId}"]`);
    if (navItem) navItem.classList.add('active');

    // Update breadcrumb
    document.getElementById('breadcrumb-page').textContent = pages[pageId] || pageId;

    // Close mobile sidebar
    if (window.innerWidth <= 768) {
      document.getElementById('sidebar').classList.remove('mobile-open');
    }
  }

  // ── SIDEBAR TOGGLE ──
  function toggleSidebar() {
    if (window.innerWidth <= 768) {
      document.getElementById('sidebar').classList.toggle('mobile-open');
    } else {
      document.body.classList.toggle('sidebar-closed');
    }
  }

  // ── MODAL ──
  function openModal(title, src) {
    document.getElementById('modal-title-text').textContent = title;
    document.getElementById('modal-iframe').src = src;
    document.getElementById('modal').classList.add('open');
    document.body.style.overflow = 'hidden';
  }

  function closeModal() {
    const modal = document.getElementById('modal');
    modal.classList.remove('open');
    document.body.style.overflow = '';
    setTimeout(() => {
      document.getElementById('modal-iframe').src = 'about:blank';
    }, 300);
  }

  function closeModalBackdrop(e) {
    if (e.target === document.getElementById('modal')) {
      closeModal();
    }
  }

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') closeModal();
  });

  // ── VOTE (visual only) ──
  function selectVote(btn) {
    const parent = btn.closest('.vote-options');
    parent.querySelectorAll('.vote-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
  }

  // ── LOGIN GATE ──
  function handleLogin(e) {
    e.preventDefault();
    const p = document.getElementById('loginPass').value;
    if (p === 'TCM2026') {
      document.getElementById('loginGate').classList.add('hidden');
      sessionStorage.setItem('tlab_auth', '1');
    } else {
      const err = document.getElementById('loginError');
      err.textContent = 'Invalid password. Please try again.';
      document.getElementById('loginPass').value = '';
      document.getElementById('loginPass').focus();
    }
    return false;
  }

  // Check session on load
  if (sessionStorage.getItem('tlab_auth') === '1') {
    document.getElementById('loginGate').classList.add('hidden');
  }
</script>

</body>
</html>
